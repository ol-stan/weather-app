{"version":3,"file":"js/764.675a02cc.js","mappings":"mMACOA,MAAM,a,SAEaC,MAAA,yF,SAIfD,MAAM,qB,SAKCA,MAAM,qB,GACbA,MAAM,0B,kGAZfE,EAAAA,EAAAA,IAeM,MAfNC,EAeM,EAdJC,EAAAA,EAAAA,GAA0C,WAAAC,EAAAA,EAAAA,IAAnCC,EAAAC,GAAG,0BAAD,GACEC,EAAAC,YAAS,WAApBP,EAAAA,EAAAA,IAEM,MAFNQ,EAEM,EADJC,EAAAA,EAAAA,IAAaC,QAAA,WAEfV,EAAAA,EAAAA,IASWW,EAAAA,GAAA,CAAAC,IAAA,IAR4BN,EAAAO,QAAQC,SAAM,WAAnDd,EAAAA,EAAAA,IAIM,MAJNe,EAIM,gBAHJf,EAAAA,EAAAA,IAEMW,EAAAA,GAAA,MAAAK,EAAAA,EAAAA,IAFuCV,EAAAO,QAAM,CAAtBI,EAAMC,M,WAAnClB,EAAAA,EAAAA,IAEM,OAFDF,MAAM,UAA2Cc,IAAKM,G,EACzDT,EAAAA,EAAAA,IAAmDU,EAAA,CAArCC,SAAUH,EAAK,GAAKI,QAAQ,G,gDAG9CrB,EAAAA,EAAAA,IAEM,MAFNsB,EAEM,EADJpB,EAAAA,EAAAA,GAA0E,IAA1EqB,GAA0EpB,EAAAA,EAAAA,IAArCC,EAAAC,GAAG,6BAAD,a,+DAc/C,GACEmB,KAAM,gBACNC,WAAY,CAAEC,UAAS,IAAEC,YAAWA,EAAAA,GACpCC,QACE,MAAMC,GAAYC,EAAAA,EAAAA,IAAI,IAChBjB,GAASiB,EAAAA,EAAAA,IAAI,IACbvB,GAAYuB,EAAAA,EAAAA,KAAI,GAEhBC,EAAUC,MAAOC,EAAKC,KAC1B3B,EAAU4B,OAAQ,QACZC,EAAAA,EAAAA,IAAW,sDAAqDH,SAAWC,WAAaG,EAAAA,KAC3FC,MAAKC,IACJ1B,EAAOsB,MAAMK,KAAKD,EAASE,KAAK,IAEpClC,EAAU4B,OAAQ,CAAI,EAGlBO,EAAYA,KACZb,EAAUM,OAAOrB,QACnBe,EAAUM,MAAMQ,SAASC,IACvB,MAAOX,EAAKC,GAAOU,EAAIC,MAAM,KAC7Bd,EAAQE,EAAKC,EAAI,GAErB,EAQF,OALAY,EAAAA,EAAAA,KAAU,KACRjB,EAAUM,MAAQY,KAAKC,MAAMC,aAAaC,QAAQ,sBAAwB,GAC1ER,GAAU,IAGL,CAAEnC,YAAWM,SACtB,G,QCpDF,MAAMsC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://weather-app/./src/views/FavoritesView.vue","webpack://weather-app/./src/views/FavoritesView.vue?0637"],"sourcesContent":["<template>\r\n  <div class=\"favorites\">\r\n    <h1>{{ $t('pages.favorites.title') }}</h1>\r\n    <div v-if=\"isLoading\" style=\"display: flex; align-items: center; justify-content: center; min-height: 420px;\">\r\n      <AppLoader />\r\n    </div>\r\n    <template v-else>\r\n      <div class=\"favorites-content\" v-if=\"cities?.length\">\r\n        <div class=\"weather\" v-for=\"(city, index) in cities\" :key=\"index\">\r\n          <WeatherCard :cityProp=\"city[0]\" :change=\"false\" />\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"favorites-noitems\">\r\n        <p class=\"favorites-noitems-text\">{{ $t('pages.favorites.no-items') }}</p>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppLoader from '@/components/AppLoader.vue'\r\nimport WeatherCard from '@/components/WeatherCard.vue'\r\n\r\nimport { onMounted, ref } from 'vue'\r\nimport { apiKey } from '../../utils/apiKey'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'FavoritesView',\r\n  components: { AppLoader, WeatherCard },\r\n  setup() {\r\n    const favorites = ref([])\r\n    const cities = ref([])\r\n    const isLoading = ref(false)\r\n\r\n    const getCity = async (lat, lon) => {\r\n      isLoading.value = true\r\n      await axios.get(`https://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lon}&appid=${apiKey}`)\r\n        .then(response => {\r\n          cities.value.push(response.data)\r\n        })\r\n      isLoading.value = false\r\n    }\r\n\r\n    const getCities = () => {\r\n      if (favorites.value?.length) {\r\n        favorites.value.forEach((llk) => {\r\n          const [lat, lon] = llk.split('&')\r\n          getCity(lat, lon)\r\n        })\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      favorites.value = JSON.parse(localStorage.getItem('favoritesCityLLK')) || []\r\n      getCities()\r\n    })\r\n\r\n    return { isLoading, cities }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.favorites-noitems {\r\n  margin: 16px 0;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  background: var(--light-color);\r\n\r\n  &-text {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    line-height: 1.25;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./FavoritesView.vue?vue&type=template&id=78356828&scoped=true\"\nimport script from \"./FavoritesView.vue?vue&type=script&lang=js\"\nexport * from \"./FavoritesView.vue?vue&type=script&lang=js\"\n\nimport \"./FavoritesView.vue?vue&type=style&index=0&id=78356828&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Admin\\\\Code\\\\vue\\\\weather-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78356828\"]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","_ctx","$t","$setup","isLoading","_hoisted_2","_createVNode","_component_AppLoader","_Fragment","key","cities","length","_hoisted_3","_renderList","city","index","_component_WeatherCard","cityProp","change","_hoisted_4","_hoisted_5","name","components","AppLoader","WeatherCard","setup","favorites","ref","getCity","async","lat","lon","value","axios","apiKey","then","response","push","data","getCities","forEach","llk","split","onMounted","JSON","parse","localStorage","getItem","__exports__","render"],"sourceRoot":""}