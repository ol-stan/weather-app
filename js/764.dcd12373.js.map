{"version":3,"file":"js/764.dcd12373.js","mappings":"mMACOA,MAAM,a,SAEaC,MAAA,yF,SAIfD,MAAM,qB,SAKCA,MAAM,qB,GACbA,MAAM,0B,kGAZfE,EAAAA,EAAAA,IAeM,MAfNC,EAeM,EAdJC,EAAAA,EAAAA,GAA0C,WAAAC,EAAAA,EAAAA,IAAnCC,EAAAC,GAAG,0BAAD,GACEC,EAAAC,YAAS,WAApBP,EAAAA,EAAAA,IAEM,MAFNQ,EAEM,EADJC,EAAAA,EAAAA,IAAaC,QAAA,WAEfV,EAAAA,EAAAA,IASWW,EAAAA,GAAA,CAAAC,IAAA,IAR4BN,EAAAO,QAAQC,SAAM,WAAnDd,EAAAA,EAAAA,IAIM,MAJNe,EAIM,gBAHJf,EAAAA,EAAAA,IAEMW,EAAAA,GAAA,MAAAK,EAAAA,EAAAA,IAFuCV,EAAAO,QAAM,CAAtBI,EAAMC,M,WAAnClB,EAAAA,EAAAA,IAEM,OAFDF,MAAM,UAA2Cc,IAAKM,G,EACzDT,EAAAA,EAAAA,IAAmDU,EAAA,CAArCC,SAAUH,EAAK,GAAKI,QAAQ,G,gDAG9CrB,EAAAA,EAAAA,IAEM,MAFNsB,EAEM,EADJpB,EAAAA,EAAAA,GAA0E,IAA1EqB,GAA0EpB,EAAAA,EAAAA,IAArCC,EAAAC,GAAG,6BAAD,a,+DAc/C,GACEmB,KAAM,gBACNC,WAAY,CAAEC,UAAS,IAAEC,YAAWA,EAAAA,GACpCC,QACE,MAAMC,GAAYC,EAAAA,EAAAA,IAAI,IAChBjB,GAASiB,EAAAA,EAAAA,IAAI,IACbvB,GAAYuB,EAAAA,EAAAA,KAAI,GAEhBC,EAAUC,MAAOC,EAAKC,KAC1B3B,EAAU4B,OAAQ,QACZC,EAAAA,EAAAA,IAAW,sDAAqDH,SAAWC,WAAaG,EAAAA,KAC3FC,MAAKC,IACJ1B,EAAOsB,MAAMK,KAAKD,EAASE,KAAK,IAEpClC,EAAU4B,OAAQ,CAAI,EAGlBO,EAAYA,KACZb,EAAUM,OAAOrB,QACnBe,EAAUM,MAAMQ,SAASC,IACvB,MAAOX,EAAKC,GAAOU,EAAIC,MAAM,KAC7Bd,EAAQE,EAAKC,EAAI,GAErB,EAQF,OALAY,EAAAA,EAAAA,KAAU,KACRjB,EAAUM,MAAQY,KAAKC,MAAMC,aAAaC,QAAQ,sBAAwB,GAC1ER,GAAU,IAGL,CAAEnC,YAAWM,SACtB,G,QCpDF,MAAMsC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://weather-app/./src/views/FavoritesView.vue","webpack://weather-app/./src/views/FavoritesView.vue?0637"],"sourcesContent":["<template>\n  <div class=\"favorites\">\n    <h1>{{ $t('pages.favorites.title') }}</h1>\n    <div v-if=\"isLoading\" style=\"display: flex; align-items: center; justify-content: center; min-height: 420px;\">\n      <AppLoader />\n    </div>\n    <template v-else>\n      <div class=\"favorites-content\" v-if=\"cities?.length\">\n        <div class=\"weather\" v-for=\"(city, index) in cities\" :key=\"index\">\n          <WeatherCard :cityProp=\"city[0]\" :change=\"false\" />\n        </div>\n      </div>\n      <div v-else class=\"favorites-noitems\">\n        <p class=\"favorites-noitems-text\">{{ $t('pages.favorites.no-items') }}</p>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport AppLoader from '@/components/AppLoader.vue'\nimport WeatherCard from '@/components/WeatherCard.vue'\n\nimport { onMounted, ref } from 'vue'\nimport { apiKey } from '../../utils/apiKey'\nimport axios from 'axios'\n\nexport default {\n  name: 'FavoritesView',\n  components: { AppLoader, WeatherCard },\n  setup() {\n    const favorites = ref([])\n    const cities = ref([])\n    const isLoading = ref(false)\n\n    const getCity = async (lat, lon) => {\n      isLoading.value = true\n      await axios.get(`https://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lon}&appid=${apiKey}`)\n        .then(response => {\n          cities.value.push(response.data)\n        })\n      isLoading.value = false\n    }\n\n    const getCities = () => {\n      if (favorites.value?.length) {\n        favorites.value.forEach((llk) => {\n          const [lat, lon] = llk.split('&')\n          getCity(lat, lon)\n        })\n      }\n    }\n\n    onMounted(() => {\n      favorites.value = JSON.parse(localStorage.getItem('favoritesCityLLK')) || []\n      getCities()\n    })\n\n    return { isLoading, cities }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.favorites-noitems {\n  margin: 16px 0;\n  padding: 10px;\n  border-radius: 4px;\n  background: var(--light-color);\n\n  &-text {\n    margin: 0;\n    padding: 0;\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 1.25;\n  }\n}\n</style>\n","import { render } from \"./FavoritesView.vue?vue&type=template&id=78356828&scoped=true\"\nimport script from \"./FavoritesView.vue?vue&type=script&lang=js\"\nexport * from \"./FavoritesView.vue?vue&type=script&lang=js\"\n\nimport \"./FavoritesView.vue?vue&type=style&index=0&id=78356828&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Admin\\\\Code\\\\vue\\\\weather-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78356828\"]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","_ctx","$t","$setup","isLoading","_hoisted_2","_createVNode","_component_AppLoader","_Fragment","key","cities","length","_hoisted_3","_renderList","city","index","_component_WeatherCard","cityProp","change","_hoisted_4","_hoisted_5","name","components","AppLoader","WeatherCard","setup","favorites","ref","getCity","async","lat","lon","value","axios","apiKey","then","response","push","data","getCities","forEach","llk","split","onMounted","JSON","parse","localStorage","getItem","__exports__","render"],"sourceRoot":""}