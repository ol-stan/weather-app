"use strict";(self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[]).push([[991],{916:function(t,e,a){a.r(e),a.d(e,{default:function(){return Z}});var l=a(3396),i=a(7139);const o={class:"home"},s={key:0,class:"weather-card-add"},A=["title"],r=(0,l._)("span",{class:"button-add-plus"},"+",-1),n={class:"button-add-text"},c={class:"weather-card-header"},d={class:"weather-card-time"},u={class:"weather-card-actions"},v=["onClick"],h=["onClick","title"],g={key:0,class:"overlay"},m={class:"modal"},w={key:0,class:"modal-title"},p={key:1,class:"modal-description"},k={class:"modal-actions"},y=["onClick"];function b(t,e,a,b,f,Q){const C=(0,l.up)("FullStarSvg"),D=(0,l.up)("EmptyStarSvg"),B=(0,l.up)("CloseSvg"),M=(0,l.up)("WeatherCard");return(0,l.wg)(),(0,l.iD)("div",o,[b.cities.list?.length<5?((0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("button",{class:"button-add",title:t.$t("buttons.add-card-title"),onClick:e[0]||(e[0]=(...t)=>b.addWeatherCard&&b.addWeatherCard(...t))},[r,(0,l._)("span",n,(0,i.zw)(t.$t("buttons.add-card")),1)],8,A)])):(0,l.kq)("",!0),b.cities.list?.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(b.cities.list,(a=>((0,l.wg)(),(0,l.iD)("div",{class:"weather",key:a.cardId},[(0,l._)("div",c,[(0,l._)("div",d,(0,i.zw)(`${t.$t("weather-card.header-text")} ${a.name} ${b.formatTime(new Date)}`),1),(0,l._)("div",u,[1!==a.cardId?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"remove-button",onClick:t=>(b.setRemoveModalData(a.name),b.showModal=!0)},(0,i.zw)(t.$t("buttons.remove-card")),9,v)):(0,l.kq)("",!0),(0,l._)("button",{class:"favorite-button",onClick:t=>b.toggleFavorite(a.lat,a.lon),title:a.isFavorite?t.$t("buttons.remove-from-favorite"):t.$t("buttons.add-to-favorite")},[a.isFavorite?((0,l.wg)(),(0,l.j4)(C,{key:0,size:32})):((0,l.wg)(),(0,l.j4)(D,{key:1,size:32}))],8,h)])]),b.showModal?((0,l.wg)(),(0,l.iD)("div",g,[(0,l._)("div",m,[(0,l._)("button",{class:"modal-close-button",onClick:e[1]||(e[1]=t=>b.showModal=!1)},[(0,l.Wm)(B,{size:20})]),b.modalData.title?((0,l.wg)(),(0,l.iD)("h2",w,(0,i.zw)(b.modalData.title),1)):(0,l.kq)("",!0),b.modalData.text?((0,l.wg)(),(0,l.iD)("div",p,(0,i.zw)(b.modalData.text),1)):(0,l.kq)("",!0),(0,l._)("div",k,[b.modalData.buttons.ok?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"button",onClick:e[2]||(e[2]=t=>b.showModal=!1)},(0,i.zw)(b.modalData.buttons.ok),1)):(0,l.kq)("",!0),b.modalData.buttons.remove?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"button button--remove",onClick:t=>b.removeWeatherCard(a.cardId)},(0,i.zw)(b.modalData.buttons.remove),9,y)):(0,l.kq)("",!0)])])])):(0,l.kq)("",!0),(0,l.Wm)(M,{cityProp:a,change:!0,onChangedCity:t=>b.updateCity(a.cardId,t)},null,8,["cityProp","onChangedCity"])])))),128)):(0,l.kq)("",!0)])}a(7658);var f=a(1892);const Q=["width","height"],C=(0,l._)("path",{d:"M66.71 3.55L81.1 37.26l36.58 3.28v-.01c1.55.13 2.91.89 3.85 2.01a5.663 5.663 0 011.32 4.13v.01a5.673 5.673 0 01-1.69 3.57c-.12.13-.25.25-.39.36L93.25 74.64l8.19 35.83c.35 1.53.05 3.06-.73 4.29a5.652 5.652 0 01-3.54 2.52l-.14.03c-.71.14-1.43.15-2.12.02v.01c-.75-.13-1.47-.42-2.11-.84l-.05-.03-31.3-18.71-31.55 18.86a5.664 5.664 0 01-7.79-1.96c-.38-.64-.62-1.33-.73-2.02-.1-.63-.09-1.27.02-1.89.02-.13.04-.27.08-.4l8.16-35.7c-9.24-8.07-18.74-16.1-27.83-24.3l-.08-.08a5.64 5.64 0 01-1.72-3.7c-.1-1.45.36-2.93 1.4-4.12l.12-.13.08-.08a5.668 5.668 0 013.77-1.72h.06l36.34-3.26 14.44-33.8c.61-1.44 1.76-2.5 3.11-3.05 1.35-.54 2.9-.57 4.34.04.69.29 1.3.71 1.8 1.22.53.53.94 1.15 1.22 1.82l.02.06zm10.19 37.2L61.85 5.51a.42.42 0 00-.09-.14.42.42 0 00-.14-.09.427.427 0 00-.35 0c-.1.04-.19.12-.24.24L45.98 40.75c-.37.86-1.18 1.49-2.18 1.58l-37.9 3.4c-.08.01-.16.02-.24.02-.06 0-.13.02-.18.05-.03.01-.05.03-.07.05l-.1.12c-.05.08-.07.17-.06.26.01.09.04.18.09.25.06.05.13.11.19.17l28.63 25c.77.61 1.17 1.62.94 2.65l-8.51 37.22-.03.14c-.01.06-.02.12-.01.17a.454.454 0 00.33.36c.12.03.24.02.34-.04l32.85-19.64c.8-.5 1.85-.54 2.72-.02L95.43 112c.08.04.16.09.24.14.05.03.1.05.16.06v.01c.04.01.09.01.14 0l.04-.01c.12-.03.22-.1.28-.2.06-.09.08-.21.05-.33L87.8 74.28a2.6 2.6 0 01.83-2.55l28.86-25.2c.04-.03.07-.08.1-.13.02-.04.03-.1.04-.17a.497.497 0 00-.09-.33.48.48 0 00-.3-.15v-.01c-.01 0-.03 0-.03-.01l-37.97-3.41c-1-.01-1.93-.6-2.34-1.57z"},null,-1),D=[C];function B(t,e,a,i,o,s){return(0,l.wg)(),(0,l.iD)("svg",{width:a.size,height:a.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 117.42",fill:"#ffcf00"},D,8,Q)}var M={name:"EmptyStarSvg",props:{size:{type:Number,default:16}}},I=a(89);const E=(0,I.Z)(M,[["render",B]]);var x=E;const S=["width","height"],j=(0,l.uE)('<defs><path id="a" d="m14.1.43 3.44 8.05 8.72.78c.39.03.67.37.64.76-.02.19-.1.35-.24.47l-6.6 5.76 1.95 8.54a.699.699 0 0 1-1.07.74l-7.5-4.48-7.52 4.5a.7.7 0 0 1-1.04-.76l1.95-8.54-6.6-5.76a.708.708 0 0 1-.07-.99c.14-.15.32-.22.5-.23l8.7-.78L12.8.43c.15-.36.56-.52.92-.37.18.07.31.21.38.37z"></path></defs><clipPath id="b"><use xlink:href="#a" style="overflow:visible;"></use></clipPath><g style="clip-path:url(#b);"><defs><path id="c" d="M-.08-.1h27.01v25.85H-.08z"></path></defs><clipPath id="d"><use xlink:href="#c" style="overflow:visible;"></use></clipPath><g style="clip-path:url(#d);"><image xlink:href="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEAlgCWAAD/7AARRHVja3kAAQAEAAAAHgAA/+4AIUFkb2JlAGTAAAAAAQMA EAMCAwYAAAJIAAACsAAAA4b/2wCEABALCwsMCxAMDBAXDw0PFxsUEBAUGx8XFxcXFx8eFxoaGhoX Hh4jJSclIx4vLzMzLy9AQEBAQEBAQEBAQEBAQEABEQ8PERMRFRISFRQRFBEUGhQWFhQaJhoaHBoa JjAjHh4eHiMwKy4nJycuKzU1MDA1NUBAP0BAQEBAQEBAQEBAQP/CABEIADwAQwMBIgACEQEDEQH/ xACiAAADAQEBAQAAAAAAAAAAAAAABAUCAQMGAQACAwEAAAAAAAAAAAAAAAAAAwQFBgIQAAIABQME AwAAAAAAAAAAAAARAQIDBAUTJBUSIzMlMhQ0EQABAQYGAQUAAAAAAAAAAAABABAgEXGhMrECEkJy AzEhUSITFBIAAgADBAgHAQAAAAAAAAAAAQIAEAMhMaEiUXGBkbHRMtIRYRJykjNzQv/aAAwDAQAC EQMRAAAA+68SfRyaBPIrKBPAoektl3NMDQREp1Cbmp+jJAbruANsptSOKwGsrkJlKXnLHRkgu0ZA 00m2/iyBqqudKto0FikOkNyQ6Ak51h66IGkrP//aAAgBAgABBQC/v7ijccreHK3hbZG6nrmUhu0I s4bkycN2hFnDcmRkljc6chpyFrJLC4P/2gAIAQMAAQUApUpJpNCmaFMnoyQlLeHbQirDtltDtIRW h2y2mjCl1ROqJVmjpn//2gAIAQEAAQUAr14UIcjIcjIcjIcjIcjIcjIUbyWtOZH4MYxjGWH6DJfB jGMYzH/oMp42MYxjMdHcmV8bGMYxmNjujL+NjGMYzGR3RmPExjGMZi/1l/8AV6PUnqT1J6k9SepL L6Guf//aAAgBAgIGPwBqdNgFAX+QbxHWPiI6x8RFNGcFXcA5RcZPqXhOj+iyfUvCdH9FkxNRFsWw +rR5Ax9tPc/bH209z9sUiKiHOtgDdsv/2gAIAQMCBj8ABIti7GLsYJAuEhtm3tMhtm/tMhlJvu8O cdDYc46Gw5w+VhlOjnL/2gAIAQEBBj8ABIJiYeisKsKsKsKsKsK0DKQYRizJMviRZkmcHxIsyTOD 4kWdczg+JFnXyOD44lnXyOD44lmT9MdMfjp91vqt9Vvqt9Vvqt9UPz6vsgfPiDP/2Q==" width="64" height="57" style="overflow:visible;" transform="matrix(.48 0 0 -.48 -1.14 26.747)"></image></g></g><path d="m14.1.43 3.44 8.05 8.72.78c.39.03.67.37.64.76-.02.19-.1.35-.24.47l-1.18 1.03c-3.21 1.11-7.42 1.78-12.03 1.78-4.61 0-8.83-.67-12.03-1.78L.24 10.49a.708.708 0 0 1-.07-.99c.13-.15.31-.22.49-.23l8.7-.78L12.8.43c.15-.36.56-.52.92-.37.18.07.31.21.38.37z" style="fill:#ffd401;"></path>',4),z=[j];function F(t,e,a,i,o,s){return(0,l.wg)(),(0,l.iD)("svg",{width:a.size,height:a.size,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",style:{"enable-background":"new 0 0 26.9 25.65"},viewBox:"0 0 26.9 25.65"},z,8,S)}var R={name:"FullStarSvg",props:{size:{type:Number,default:16}}};const L=(0,I.Z)(R,[["render",F]]);var H=L;const J=["width","height"],P=(0,l._)("path",{fill:"#202020","fill-rule":"evenodd",d:"M5.293 5.293a1 1 0 0 1 1.414 0L12 10.586l5.293-5.293a1 1 0 1 1 1.414 1.414L13.414 12l5.293 5.293a1 1 0 0 1-1.414 1.414L12 13.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L10.586 12 5.293 6.707a1 1 0 0 1 0-1.414Z","clip-rule":"evenodd"},null,-1),G=[P];function U(t,e,a,i,o,s){return(0,l.wg)(),(0,l.iD)("svg",{width:a.size,height:a.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},G,8,J)}var q={name:"CloseSvg",props:{size:{type:Number,default:16}}};const K=(0,I.Z)(q,[["render",U]]);var W=K,N=a(4870),Y=a(5658),_={name:"WeaterCard",components:{CloseSvg:W,EmptyStarSvg:x,FullStarSvg:H,WeatherCard:f.Z},setup(){const t=(0,N.iH)([]),e=(0,N.iH)({}),a=(0,N.qj)({list:[]}),i=(0,N.qj)({title:null,text:null,buttons:{ok:null,remove:null}}),o=(0,N.iH)(!1),{t:s}=(0,Y.QT)(),A=t=>{const e=[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()],a=[String(t.getHours()).padStart(2,"0"),String(t.getMinutes()).padStart(2,"0")];return e.join(".")+" "+a.join(":")},r=()=>JSON.parse(localStorage.getItem("favoritesCityLLK"))||[],n=()=>{t.value?.length&&t.value.forEach((t=>{const[e,l]=t.split("&");a.list.map((t=>{String(t.lat)===String(e)&&String(t.lon)===String(l)&&(t.isFavorite=!0)}))}))},c=async()=>{e.value={cardId:1,name:"Kyiv",state:null,country:null,lat:50.4333,lon:30.5167,isFavorite:!1},await fetch("https://ipapi.co/json/").then((t=>t.json())).then((t=>{e.value.name=t.city,e.value.country=t.country,e.value.lat=t.latitude,e.value.lon=t.longitude})).then((()=>{a.list.push(e.value),n()})).catch((t=>{console.error("Error ipapi:",t)}))};(0,l.bv)((()=>{t.value=r(),c()}));const d=()=>{a.list.push({...e.value,cardId:Date.now()})},u=t=>{i.title=s("modals.remove-card.title"),i.text=s("modals.remove-card.text")+`${t}?`,i.buttons.ok=s("modals.remove-card.button-cancel"),i.buttons.remove=s("modals.remove-card.button-remove")},v=t=>{o.value=!1,a.list=a.list.filter((e=>e.cardId!==t))},h=(t,e)=>{a.list.map((a=>{a.cardId===t&&(a.name=e.name,a.state=e.state,a.country=e.country,a.lat=e.lat,a.lon=e.lon,a.isFavorite=e.isFavorite||!1,n())}))},g=()=>{i.title=s("modals.favorites-limit.title"),i.text=s("modals.favorites-limit.text"),i.buttons.ok=s("modals.favorites-limit.button-cancel"),i.buttons.remove=null,o.value=!0},m=(e,l)=>{e&&l&&a.list.map((a=>{if(a.lat===e&&a.lon===l){if(!a.isFavorite&&t.value.length>=5)return g();a.isFavorite=!a.isFavorite;const i=`${e}&${l}`;t.value.includes(i)?t.value=t.value.filter((t=>t!==i)):t.value.push(i),localStorage.setItem("favoritesCityLLK",JSON.stringify(t.value))}}))};return{cities:a,modalData:i,showModal:o,formatTime:A,addWeatherCard:d,setRemoveModalData:u,removeWeatherCard:v,updateCity:h,toggleFavorite:m}}};const O=(0,I.Z)(_,[["render",b]]);var Z=O}}]);
//# sourceMappingURL=991.0972b8cc.js.map